{% load static %}
<!doctype html>
<html class="h-100" lang="en-US">
	<title>
		The Great Avocado War of '24
	</title>
	<body class="d-flex flex-column h-100">
		<head>
			<link href='{% static "ft_transcendence.css" %}' rel="stylesheet" />
			<link href='{% static "bootstrap/css/bootstrap.css" %}' rel="stylesheet">
			<script src='{% static "popper/popper.min.js" %}'>
			</script>
			<script src='{% static "bootstrap/js/bootstrap.js" %}'>
			</script>
			<script type="importmap">
			{
				"imports":
				{
					"three": "https://cdn.jsdelivr.net/npm/three@0.165.0/build/three.module.js",
					"three/addons/": "https://cdn.jsdelivr.net/npm/three@0.165.0/examples/jsm/"
				}
			}
			</script>
		</head>
		<nav class="bg-body-tertiary border-bottom navbar navbar-expand-lg py-0 shadow-sm">
			<div class="container-fluid px-0">
				<ul class="flex-row me-auto navbar-nav">
					<li class="border d-flex nav-item py-1 rounded text-nowrap" data-bs-target="#about" data-bs-toggle="modal" id="about-button" title="About">
						<img height="22" src='{% static "img/22/help-about.svg" %}'>
						<a aria-current="page" class="active ms-1 my-auto nav-link p-0" id="about-label">
							About
						</a>
					</li>
					<li class="dropdown">
						<button aria-expanded="false" class="bg-body-tertiary border d-flex nav-item py-1 rounded text-nowrap" data-bs-toggle="dropdown" id="language-button" title="Language">
							<img height="22" src='{% static "img/22/preferences-desktop-locale.svg" %}'>
							<a aria-current="page" class="active ms-1 my-auto nav-link p-0" id="language-label">
								Language
							</a>
							<img class="ms-1 my-auto" height="16" src='{% static "img/16/go-down.svg" %}'>
						</button>
						<form class="border dropdown-menu frame position-absolute rounded" id="language-select" name="language_select" style="padding: 3px !important;">
							<label class="d-flex form-check m-0 p-0 rounded" for="english">
								<input checked id="english" name="language" type="radio">
								<label class="form-check-label" for="english">
									English
								</label>
							</label>
							<label class="d-flex form-check m-0 p-0 rounded" for="french">
								<input id="french" name="language" type="radio">
								<label class="form-check-label" for="french">
									Français
								</label>
							</label>
							<label class="d-flex form-check m-0 p-0 rounded" for="ukrainian">
								<input id="ukrainian" name="language" type="radio">
								<label class="form-check-label" for="ukrainian">
									Українська
								</label>
							</label>
						</form>
					</li>
					<li class="border d-flex nav-item py-1 rounded text-nowrap" id="pause" title="Pause">
						<img height="22" src='{% static "img/22/media-playback-pause.svg" %}'>
						<a aria-current="page" class="active ms-1 my-auto nav-link p-0" id="pause-label">
							Pause
						</a>
					</li>
					<li class="border d-none nav-item py-1 rounded text-nowrap" id="play" title="Play">
						<img height="22" src='{% static "img/22/media-playback-start.svg" %}'>
						<a aria-current="page" class="active ms-1 my-auto nav-link p-0" id="play-label">
							Play
						</a>
					</li>
					<li class="border d-flex nav-item py-1 rounded text-nowrap" id="tournament-button" title="Tournament">
						<img height="22" src='{% static "img/22/view-list-tree.svg" %}'>
						<a aria-current="page" class="active ms-1 my-auto nav-link p-0" id="tournament-label">
							Tournament
						</a>
					</li>
				</ul>
				<ul class="navbar-nav">
					{% if not user.is_authenticated %}
						<li class="border d-flex nav-item py-1 rounded text-nowrap" data-bs-target="#login" data-bs-toggle="modal" id="login-button" title="Log in">
							<img height="22" src='{% static "img/22/network-connect.svg" %}'>
							<a aria-current="page" class="active ms-1 my-auto nav-link p-0" id="login-label">
								Log in
							</a>
						</li>
					{% else %}
						<li class="dropdown" id="profile-button">
							<button aria-expanded="false" class="bg-body-tertiary border d-flex nav-item py-1 rounded text-nowrap" data-bs-auto-close="outside" data-bs-toggle="dropdown" title="Profile">
								<img class="rounded-circle" height="22" id="profile-avatar-mini" src='{{ user.get_image_profile_url }}'>
								<a aria-current="page" class="active ms-1 my-auto nav-link p-0" id="profile-name">
									{{ user.username }}
								</a>
								<img class="ms-1 my-auto" height="16" src='{% static "img/16/go-down.svg" %}'>
							</button>
							<ul class="border dropdown-menu dropdown-menu-end frame p-0 position-absolute rounded">
								<div class="carousel slide" id="profile">
									<div class="carousel-inner">
										<div class="active carousel-item p-2">
											<div class="position-relative">
												<img class="mx-auto mw-100 rounded-circle" id="profile-avatar" src='{{ user.get_image_profile_url }}'>
												<form action="/upload_image" enctype="multipart/form-data" id="profile-avatar-form" method="post">
													{% csrf_token %}
													<label class="border button d-none position-absolute end-0 rounded shadow-sm top-0" for="imageFile">
														<img class="m-1" height="22" src='{% static "img/22/document-edit.svg" %}'>
													</label>
													<input accept="image/png, image/jpeg" class="d-none" id="imageFile" name="imageFile" type="file">
												</form>
											</div>
											<div class="position-relative" id="profile-name-container">
												<h3 class="mx-auto my-0 pe-none" id="profile-name-inside">
													{{ user.username }}
												</h3>
												<div class="d-flex d-none" id="profile-name-input-container">
													<input class="border me-1 p-1 rounded w-100" id="profile-name-input" type="text">
													<label class="border button ms-1 rounded shadow-sm" id="profile-name-input-button">
														<img class="m-1" height="22" src='{% static "img/22/dialog-ok-apply.svg" %}'>
													</label>
												</div>
												<label class="border button d-none position-absolute end-0 rounded shadow-sm top-0" id="profile-name-edit">
													<img class="m-1" height="22" src='{% static "img/22/document-edit.svg" %}'>
												</label>
											</div>
											<progress class="border-0 rounded w-100" id="profile-bar" max="100" value="50">
											</progress>
											<div class="d-flex">
												<div class="pe-none m-1" id="profile-wins">
													0 Wins
												</div>
												<div class="me-1 ms-auto my-1 pe-none" id="profile-losses">
													0 Losses
												</div>
											</div>
											<button class="border button d-flex m-1 ms-auto rounded shadow-sm w-100" data-bs-slide-to="1" data-bs-target="#profile" type="button">
												<img class="m-1 ms-auto" height="22" src='{% static "img/22/appointment-new.svg" %}'>
												<div class="me-auto my-auto text-nowrap" id="profile-history">
													Match History
												</div>
												<img class="ms-1 my-auto" height="16" src='{% static "img/16/go-next.svg" %}'>
											</button>
											<div class="d-flex mx-auto my-1 pe-none" id="profile-friends-count">
												Friends: 0
											</div>
											<button class="border button d-flex m-1 ms-auto rounded shadow-sm w-100" data-bs-slide-to="2" data-bs-target="#profile" type="button">
												<img class="m-1 ms-auto" height="22" src='{% static "img/22/address-book-new.svg" %}'>
												<div class="me-auto my-auto text-nowrap" id="profile-friends">
													Manage Friends
												</div>
												<img class="ms-1 my-auto" height="16" src='{% static "img/16/go-next.svg" %}'>
											</button>
											<form action="{% url 'logout' %}" method="get">
												<button class="border button d-flex m-1 ms-auto rounded shadow-sm w-100" type="submit">
													<img class="m-1 ms-auto" height="22" src='{% static "img/22/system-log-out.svg" %}'>
													<div class="me-auto my-auto text-nowrap" id="profile-logout-label">
														Log out
													</div>
												</button>
											</form>
											<form action="delete_account" method="post">
												{% csrf_token %}
												<button class="border button d-flex m-1 ms-auto rounded shadow-sm w-100" id="profile-delete" type="submit">
													<img class="m-1 ms-auto" height="22" src='{% static "img/22/edit-delete.svg" %}'>
													<div class="me-auto my-auto text-nowrap" id="profile-delete-label">
														Delete Account
													</div>
												</button>
											</form>
										</div>
										<div class="carousel-item">
											<div class="bg-body-tertiary border-bottom d-flex p-2">
												<button class="border borderless-button d-flex mx-1 my-auto p-0 rounded" data-bs-slide-to="0" data-bs-target="#profile" type="button">
													<img class="m-1" height="22" src='{% static "img/22/go-previous.svg" %}'>
												</button>
												<h3 class="m-auto pe-none text-nowrap" id="profile-history-name">
													Match History
												</h3>
											</div>
											<table class="overflow-y-auto pe-none w-100" style="max-height: calc(100vh - 102px);">
												<thead>
													<tr>
														<th id="profile-history-time" scope="col">
															Time
														</th>
														<th id="profile-history-result" scope="col">
															Result
														</th>
														<th id="profile-history-type" scope="col">
															Type
														</th>
														<th id="profile-history-score" scope="col">
															Score
														</th>
														<th id="profile-history-opponent" scope="col">
															Opponent
														</th>
													</tr>
												</thead>
												<tbody id="profile-log">
												</tbody>
											</table>
										</div>
										<div class="carousel-item" style="width: max-content;">
											<div class="bg-body-tertiary border-bottom d-flex p-2">
												<button class="border borderless-button d-flex mx-1 my-auto p-0 rounded" data-bs-slide-to="0" data-bs-target="#profile" type="button">
													<img class="m-1" height="22" src='{% static "img/22/go-previous.svg" %}'>
												</button>
												<h3 class="m-auto pe-none text-nowrap" id="profile-friends-name">
													Friends
												</h3>
											</div>
											<div class="d-flex overflow-hidden p-0 warning-banner" id="profile-banner" style="max-height: 0;">
												<div class="m-auto pe-none text-nowrap" id="profile-banner-text">
												</div>
												<button class="border borderless-button d-flex p-0 rounded" id="profile-banner-close" type="button">
													<img class="m-1" height="22" src='{% static "img/22/window-close.svg" %}'>
												</button>
											</div>
											<div class="overflow-y-auto over pe-2" style="min-width: min-content;" tabindex="-1">
												<div class="m-2 pe-2 w-100" style="min-width: min-content;">
													<div class= "d-flex">
														<input class="border m-1 p-1 rounded w-100" id="profile-list-item" placeholder="Enter username" type="text">
														<button class="border button d-flex m-1 rounded shadow-sm" id="profile-list-add">
															<img class="m-1" height="22" src='{% static "img/22/list-add.svg" %}'>
														</button>
													</div>
													<div id="profile-list" style="min-width: min-content;">
													</div>
												</div>
											</div>
<!--											{% for friend in friends %}
												<li>
													<img alt="profile picture" class="rounded-circle" height="30" src="{{ friend.get_image_profile_url }}" width="30">
													{{ friend.username }}
													{% if friend.is_online %}
														(online)
													{% endif %}
													<button id="deleteButton" onclick="delete_friend('{{ friend.username }}')" type="submit">
														<img height="20" src='{% static "../static/icons/red_x_icon.jpg" %}' width="20">
													</button>
												</li>
											{% endfor %}
											<form action="/add_friend" id="profile-friends-form" method="post">
												{% csrf_token %}
												<input type="text" id="info" name="friend_to_add" placeholder="Add a friend" required>
												<br>
												<br>
												<button id=profile-friends-add type="submit">
													Add
												</button>
											</form>-->
										</div>
									</div>
								</div>
							</ul>
						</li>
					{% endif %}
				</ul>
			</div>
		</nav>
		<div class="content d-flex flex-column flex-grow-1 flex-shrink-1 m-auto mh-100 mw-100" id="content">
			<div class="d-flex m-1" id="current-match">
				<div class="d-flex m-1 w-50">
					<img class="mx-1 my-auto rounded-circle" height="22" id="contestant1-avatar" src='{% static "img/22/im-user.svg" %}'>
					<div class="ms-1 my-auto" id="contestant1">
						Guest
					</div>
					<div class="me-1 my-auto" id="contestant1-score">
					</div>
					<button class="border button d-flex m-1 rounded shadow-sm" id="contestant1-victory" type="button">
						<div class="my-auto">
							Give victory
						</div>
					</button>
				</div>
				<div class="d-flex m-1 w-50">
					<img class="me-1 ms-auto my-auto rounded-circle" height="22" id="contestant2-avatar" src='{% static "img/22/im-user.svg" %}'>
					<div class="ms-1 my-auto" id="contestant2">
						Guest
					</div>
					<div class="me-1 my-auto" id="contestant2-score">
					</div>
					<button class="border button d-flex m-1 rounded shadow-sm" id="contestant2-victory" type="button">
						<div class="my-auto">
							Give victory
						</div>
					</button>
				</div>
			</div>
			<div class="content-body flex-grow-1 flex-shrink-1 m-1 mh-100 mt-0" id="container">
			</div>
		</div>
		<div aria-hidden="true" aria-labelledby="about" class="modal fade" id="about" tabindex="-1">
			<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
				<div class="bg-body border modal-content p-1 rounded">
					<div class="modal-header p-1">
						<h2 class="m-1 pe-none" id="about-title">
							The Great Avocado War of '24
						</h2>
					</div>
					<div class="d-flex flex-column m-1 modal-body overflow-hidden p-0">
						<ul class="border-bottom-0 flex-nowrap ms-1 mt-1 nav nav-tabs position-relative rounded-top" id="myTab" role="tablist">
							<li class="nav-item" role="presentation">
								<button aria-controls="about-tab-pane" aria-selected="true" class="active border-bottom-0 first m-0 nav-link position-relative px-1 text-dark text-nowrap" data-bs-target="#about-tab-pane" data-bs-toggle="tab" id="about-tab" role="tab" type="button">
									About
								</button>
							</li>
							<li class="nav-item" role="presentation">
								<button aria-controls="components-tab-pane" aria-selected="false" class="border-bottom-0 m-0 nav-link position-relative px-1 rounded-0 text-dark" data-bs-target="#components-tab-pane" data-bs-toggle="tab" id="components-tab" role="tab" type="button">
									Components
								</button>
							</li>
							<li class="nav-item" role="presentation">
								<button aria-controls="authors-tab-pane" aria-selected="false" class="border-bottom-0 m-0 last nav-link position-relative px-1 text-dark" data-bs-target="#authors-tab-pane" data-bs-toggle="tab" id="authors-tab" role="tab" type="button">
									Authors
								</button>
							</li>
						</ul>
						<div class="d-flex overflow-hidden tab-content" id="myTabContent">
							<div aria-labelledby="about-tab" class="active border mb-1 mx-1 overflow-y-auto p-1 position-relative rounded show tab-pane" id="about-tab-pane" role="tabpanel" tabindex="0">
								<div class="d-flex">
									<img class="inline-img" src='{% static "img/openart-image_yBIl3nIg_1717776713014_raw.jpg" %}'>
								</div>
								<br>
								On February 30th 2024, something happened that would forever change the course of history. Tired of being treated as little more than food, the avocados waged war against the animal kingdom as a whole.
								<br>
								<br>
								At first, the war went well for the avocados and they made short work of the weak human forces. With the humans out of the picture, the avocados thought they had won the war.
								<br>
								<br>
								They were wrong.
								<br>
								<br>
								They were not prepared for the onslaught from the pangolins. The pangolins were ruthless. The avocados found themselves evenly matched.
								<br>
								<br>
								This website exists to serve as an accurate retelling of the Great Avocado War of '24. As for who won the war? You will have to play to find out.
							</div>
							<div aria-labelledby="components-tab" class="border mb-1 mx-1 overflow-y-auto p-1 position-relative rounded tab-pane w-100" id="components-tab-pane" role="tabpanel" tabindex="0">
								<b>
									Bootstrap
								</b>
								<br>
								<i>
									Version 5.3.3
								</i>
								<br>
								<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit component's homepage&#013;https://getbootstrap.com" type="button">
									<a href="https://getbootstrap.com" target="_blank">
										<img class="m-1" height="22" src='{% static "img/22/globe.svg" %}'>
									</a>
								</button>
								<b>
									Django
								</b>
								<br>
								<i>
									Version 5.0.6
								</i>
								<br>
								<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit component's homepage&#013;https://www.djangoproject.com" type="button">
									<a href="https://www.djangoproject.com" target="_blank">
										<img class="m-1" height="22" src='{% static "img/22/globe.svg" %}'>
									</a>
								</button>
								<b>
									PostgreSQL
								</b>
								<br>
								<i>
									Version 16.3
								</i>
								<br>
								<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit component's homepage&#013;https://www.postgresql.org" type="button">
									<a href="https://www.postgresql.org" target="_blank">
										<img class="m-1" height="22" src='{% static "img/22/globe.svg" %}'>
									</a>
								</button>
								<b>
									Three.js
								</b>
								<br>
								<i>
									Version r165
								</i>
								<br>
								<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit component's homepage&#013;https://threejs.org" type="button">
									<a href="https://threejs.org" target="_blank">
										<img class="m-1" height="22" src='{% static "img/22/globe.svg" %}'>
									</a>
								</button>
							</div>
							<div aria-labelledby="authors-tab" class="border mb-1 mx-1 overflow-y-auto p-1 position-relative rounded tab-pane w-100" id="authors-tab-pane" role="tabpanel" tabindex="0">
								<b>
									Bruno Pierre Bouchard
								</b>
								<br>
								<i>
									Database
								</i>
								<br>
								<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit contributor's homepage&#013;https://github.com/Nyonyx" type="button">
									<a href="https://github.com/Nyonyx" target="_blank">
										<img class="m-1" height="22" src='{% static "img/22/globe.svg" %}'>
									</a>
								</button>
								<b>
									Félix Barrette
								</b>
								<br>
								<i>
									Backend
								</i>
								<br>
								<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit contributor's homepage&#013;https://github.com/ShroomySquid" type="button">
									<a href="https://github.com/ShroomySquid" target="_blank">
										<img class="m-1" height="22" src='{% static "img/22/globe.svg" %}'>
									</a>
								</button>
								<b>
									George Zhukov
								</b>
								<br>
								<i>
									Game
								</i>
								<br>
								<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit contributor's homepage&#013;https://github.com/joeroeg" type="button">
									<a href="https://github.com/joeroeg" target="_blank">
										<img class="m-1" height="22" src='{% static "img/22/globe.svg" %}'>
									</a>
								</button>
								<b>
									Léopold Couturier-Otis
								</b>
								<br>
								<i>
									Interface
								</i>
								<br>
								<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit contributor's homepage&#013;https://github.com/lcouturi" type="button">
									<a href="https://github.com/lcouturi" target="_blank">
										<img class="m-1" height="22" src='{% static "img/22/globe.svg" %}'>
									</a>
								</button>
								<b>
									Pierre Olivier Paquet
								</b>
								<br>
								<i>
									MIA
								</i>
								<br>
								<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit contributor's homepage&#013;https://github.com/pierreolivierpaquet" type="button">
									<a href="https://github.com/pierreolivierpaquet" target="_blank">
										<img class="m-1" height="22" src='{% static "img/22/globe.svg" %}'>
									</a>
								</button>
							</div>
						</div>
					</div>
					<div class="modal-footer p-1">
						<button class="border button d-flex m-1 ms-auto rounded shadow-sm" data-bs-dismiss="modal" type="button">
							<img class="m-1" height="22" src='{% static "img/22/window-close.svg" %}'>
							<div class="my-auto" id="about-close">
								Close
							</div>
						</button>
					</div>
				</div>
			</div>
		</div>
		<div aria-hidden="true" aria-labelledby="login" class="modal fade" id="login" tabindex="-1">
			<div class="modal-dialog modal-dialog-centered">
				<form class="bg-body border modal-content p-1 rounded" id="login-form">
					{% csrf_token %}
					<div class="modal-header p-1">
						<h2 class="m-1 pe-none" id="login-title">
							Log in
						</h2>
					</div>
					<div class="m-1 modal-body p-0">
						<div class="border d-flex flex-column frame m-1 p-0 rounded">
							<div class="d-flex overflow-hidden p-0 warning-banner" id="login-banner" style="max-height: 0">
								<div class="m-auto pe-none" id="login-banner-text">
								</div>
								<button class="border borderless-button d-flex p-0 rounded" id="login-banner-close" type="button">
									<img class="m-1" height="22" src='{% static "img/22/window-close.svg" %}'>
								</button>
							</div>
							<div class="d-flex m-3">
								<div class="d-flex flex-column">
									<div class="my-auto pe-none text-end text-nowrap" id="login-name-label">
										Username:
									</div>
									<div class="my-auto pe-none text-end" id="login-pass-label">
										Password:
									</div>
								</div>
								<div class="d-flex flex-column w-100">
									<input class="border m-1 p-1 rounded w-100" id="login-name" name="username" type="text">
									<input class="border m-1 p-1 rounded w-100" id="login-pass" name="password" type="password">
								</div>
							</div>
						</div>
					</div>
					<div class="modal-footer p-1">
						<button class="border button d-flex m-1 rounded shadow-sm text-nowrap" data-bs-dismiss="modal" id="register-button" type="button">
							<img class="m-1" height="22" src='{% static "img/22/list-add.svg" %}'>
							<div class="my-auto pe-none" id="register-button-label">
								Register
							</div>
						</button>
						<button class="border button d-flex m-1 ms-auto rounded shadow-sm" data-bs-dismiss="modal" id="login-close" type="button">
							<img class="m-1" height="22" src='{% static "img/22/dialog-cancel.svg" %}'>
							<div class="my-auto" id="login-close-label">
								Cancel
							</div>
						</button>
						<button class="border button d-flex m-1 rounded shadow-sm" id="login-ok" type="submit">
							<img class="m-1" height="22" src='{% static "img/22/dialog-ok-apply.svg" %}'>
							<div class="my-auto">
								OK
							</div>
						</button>
					</div>
				</form>
			</div>
		</div>
		<div aria-hidden="true" aria-labelledby="register" class="modal fade" id="register" tabindex="-1">
			<div class="modal-dialog modal-dialog-centered">
				<form class="bg-body border modal-content p-1 rounded" id="myForm">
					{% csrf_token %}
					<div class="modal-header p-1">
						<h2 class="m-1 pe-none" id="register-title">
							Register
						</h2>
					</div>
					<div class="m-1 modal-body p-0">
						<p style="color:red;" id="error-message"> </p>
						<div class="border d-flex flex-column frame m-1 p-0 rounded">
							<div class="d-flex overflow-hidden p-0 warning-banner" id="register-banner" style="max-height: 0">
								<div class="m-auto pe-none" id="register-banner-text">
								</div>
								<button class="border borderless-button d-flex p-0 rounded" id="register-banner-close" type="button">
									<img class="m-1" height="22" src='{% static "img/22/window-close.svg" %}'>
								</button>
							</div>
							<div class="d-flex m-3">
								<div class="d-flex flex-column">
									<div class="my-auto pe-none text-end" id="register-name-label">
										Username:
									</div>
									<div class="my-auto pe-none text-end" id="register-pass-label">
										Password:
									</div>
									<div class="my-auto pe-none text-end text-nowrap" id="register-pass2-label">
										Confirm password:
									</div>
									<div class="my-auto pe-none text-end">
										Avatar:
									</div>
								</div>
								<div class="d-flex flex-column w-100">
									<input class="border m-1 p-1 rounded w-100" id="register-name" name="username" type="text">
									<input class="border m-1 p-1 rounded w-100" id="register-pass" name="password" type="password">
									<input class="border m-1 p-1 rounded w-100" id="register-pass2" name="confirm_password" type="password">
									<div class="d-flex" style="width: calc(100% + 0.5rem)">
										<input class="border m-1 p-1 pe-none rounded w-100" id="avatar-name" type="text">
										<label class="border button d-flex m-1 rounded shadow-sm" for="avatar" id="avatar-button" title="Open file dialog">
											<img class="m-1" height="22" src='{% static "img/22/document-open.svg" %}'>
										</label>
									</div>
									<input accept="image/png, image/jpeg" class="d-none" id="avatar" type="file">
								</div>
							</div>
						</div>
					</div>
					<div class="modal-footer p-1">
						<button class="border button d-flex m-1 ms-auto rounded shadow-sm" data-bs-target="#login" data-bs-toggle="modal" type="button">
							<img class="m-1" height="22" src='{% static "img/22/dialog-cancel.svg" %}'>
							<div class="my-auto" id="register-close">
								Cancel
							</div>
						</button>
						<button class="border button d-flex m-1 rounded shadow-sm" type="submit">
							<img class="m-1" height="22" src='{% static "img/22/dialog-ok-apply.svg" %}'>
							<div class="my-auto">
								OK
							</div>
						</button>
					</div>
				</form>
			</div>
		</div>
		<div aria-hidden="true" aria-labelledby="tournament" class="modal fade" id="tournament" tabindex="-1">
			<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
				<div class="bg-body border modal-content p-1 rounded">
					<div class="modal-header p-1">
						<h2 class="m-1 pe-none" id="tournament-title">
							Tournament
						</h2>
					</div>
					<div class="d-flex flex-column m-1 modal-body overflow-hidden p-0">
						<div class="border d-flex flex-column frame m-1 overflow-hidden p-0 rounded">
							<div class="d-flex overflow-hidden p-0 warning-banner" id="tournament-banner" style="max-height: 0">
								<div class="m-auto pe-none" id="tournament-banner-text">
								</div>
								<button class="border borderless-button d-flex p-0 rounded" id="tournament-banner-close" type="button">
									<img class="m-1" height="22" src='{% static "img/22/window-close.svg" %}'>
								</button>
							</div>
							<div class="overflow-y-auto" tabindex="-1">
								<div class="d-flex m-2">
									<input class="border m-1 p-1 rounded w-100" id="tournament-list-item" placeholder="Enter username" type="text">
									<button class="border button d-flex m-1 rounded shadow-sm" id="tournament-list-add">
										<img class="m-1" height="22" src='{% static "img/22/list-add.svg" %}'>
									</button>
								</div>
								<div class="m-2">
									<div id="tournament-list">
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="modal-footer p-1">
						<button class="border button d-flex m-1 ms-auto rounded shadow-sm" id="tournament-start" type="button">
							<img class="m-1" height="22" src='{% static "img/22/media-playback-start.svg" %}'>
							<div class="my-auto" id="tournament-start-label">
								Start Tournament
							</div>
						</button>
						<button class="border button d-flex m-1 rounded shadow-sm" data-bs-dismiss="modal" id="close" type="button">
							<img class="m-1" height="22" src='{% static "img/22/window-close.svg" %}'>
							<div class="my-auto" id="tournament-close">
								Close
							</div>
						</button>
					</div>
				</div>
			</div>
		</div>
		<div aria-hidden="true" aria-labelledby="results" class="modal fade" data-bs-backdrop="static" id="results" tabindex="-1">
			<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
				<div class="bg-body border modal-content p-1 rounded">
					<div class="modal-header p-1">
						<h2 class="m-1 pe-none" id="results-title">
							Results
						</h2>
					</div>
					<div class="d-flex flex-column m-1 modal-body overflow-hidden p-0">
						<div class="border d-flex flex-column frame m-1 overflow-hidden p-1 rounded">
							<h4 class="my-1 mx-auto" id="result">
							</h4>
							<h6 class="my-1 mx-auto" id="next-match">
							</h6>
						</div>
					</div>
					<div class="modal-footer p-1">
						<button class="border button d-flex m-1 ms-auto rounded shadow-sm" data-bs-dismiss="modal" id="tournament-start-match" type="button">
							<img class="m-1" height="22" src='{% static "img/22/media-playback-start.svg" %}'>
							<div class="my-auto" id="tournament-start-match-label">
								Next Match
							</div>
						</button>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script type="module">
		import
		{
			loadSavedParameters,
			saveParameter,
			switchLanguage
		}
		from '{% static "frontend/game/gui.js" %}';

		import
		{
			g
		}
		from '{% static "frontend/game/globals.js" %}';

		import
		{
			add_item,
			banner_close,
			banner_open,
			h,
			login_complete,
			login_validate,
			pause,
			profile_logout,
			register_open,
			register_validate,
			result,
			start_match,
			tournament_open,
			tournament_start,
			unpause
		} from '{% static "ft_transcendence.js" %}';

		window.onload = function()
		{
			language_select.reset();
			/*{% if user.is_authenticated %}*/
				h.username = "{{ user.username }}";
				login_complete();
			/*{% endif %}*/
		};

		// Messages d'erreurs d'authentification et login possibles
		// le back end renvoi le code d'erreur ex : password_too_short
		let langs = {
			'french' : {
				'no_username': "Aucun nom d’utilisateur fourni.",
				'no_pass' : "Aucun password fourni.",
				'password_not_identic' : "Vos mots de passes ne correspondent pas.",
				'password_too_short' : "Votre mot de passe doit être au moins de 5 charactères.",
				'username_exist' : "Ce nom d'utillisateur existe déja.",

				'no_user_match' : "Ce nom d'utilisateur n'existe pas.",
				'invalid_password' : "Mot de passe incorrect."
			},
			'english' : {
				'no_username': "No username provided.",
				'no_pass' : "No password provided.",
				'password_not_identic' : "Passwords do not match.",
				'password_too_short' : "Your password must be at least 5 characters.",
				'username_exist' : "This username already exists.",

				'no_user_match' : "This user does not exist.",
				'invalid_password' : "Invalid password."
			},
			'ukrainian' : {
				'no_username': "Ім'я користувача не вказано.",
				'no_pass' : "Пароль не надано.",
				'password_not_identic' : "Паролі не збігаються.",
				'password_too_short' : "Ваш пароль має бути не менше 5 символів.",
				'username_exist' : "Це ім'я користувача вже існує.",

				'no_user_match' : "Цей користувач не існує.",
				'invalid_password' : "Недійсний пароль."
			}
		};

		// ------------ Fetch calls ---------------
		// register
		document.getElementById('myForm').addEventListener('submit', function(event) {
			event.preventDefault();

			const username = document.querySelector("#register-name").value;
			const password = document.querySelector("#register-pass").value;
			const password2 = document.querySelector("#register-pass2").value;

			// pas besoin d'envoyer la requête dans ces cas
			if (username == ""){
				banner_open(langs[h.language]['no_username'], "#register-banner");
				return;
			} else if (password == '' || password2 == ''){
				banner_open(langs[h.language]['no_pass'], "#register-banner");
				return;
			} else if (password != password2){
				banner_open(langs[h.language]['password_not_identic'], "#register-banner");
				return;
			}

			var formData = new FormData(this);
			fetch("{% url 'register' %}", {method: 'POST', body: formData,
				headers: {
					'X-Requested-With': 'XMLHttpRequest',
					'X-CSRFToken': '{% csrf_token %}'
				}
			})
			.then(response => response.json())
			.then(data => {
				if (data.error) {
					banner_open(langs[h.language][data.error], "#register-banner");
				} else {
					window.location.href = "{% url 'accueil' %}";
				}
			}).catch(error => {console.error('Error:', error);});
		});

		// login
		document.getElementById('login-form').addEventListener('submit', function(event) {
			event.preventDefault();

			const username = document.querySelector("#login-name").value;
			const password = document.querySelector("#login-pass").value;

			// pas besoin d'envoyer la requête dans ces cas
			if (username == ""){
				console.log("username vide")
				banner_open(langs[h.language]['no_username'], "#login-banner");
				return;
			} else if (password == ''){
				banner_open(langs[h.language]['no_pass'], "#login-banner");
				return;
			}

			var formData = new FormData(this);
			fetch("login_check", {method: 'POST', body: formData,
				headers: {
					'X-Requested-With': 'XMLHttpRequest',
					'X-CSRFToken': '{% csrf_token %}'
				}
			})
			.then(response => response.json())
			.then(data => {
				if (data.error) {
					banner_open(langs[h.language][data.error], "#login-banner");
				} else {
					window.location.href = "{% url 'accueil' %}";
				}
			}).catch(error => {console.error('Error:', error);});
		});

		// ---------------------------------------

		document.querySelector("#about").addEventListener("hidden.bs.modal", function(e)
		{
			e.preventDefault();
			unpause();
		});

		document.querySelector("#about").addEventListener("shown.bs.modal", function(e)
		{
			e.preventDefault();
			pause();
		});

		if (document.querySelector("#avatar"))
		{
			document.querySelector("#avatar").onchange = function ()
			{
				var	reader = new FileReader();

				reader.onload = function (e)
				{
					document.querySelector("#profile-avatar").src = e.target.result;
					document.querySelector("#profile-avatar-mini").src = e.target.result;
					if (h.contestant1 == h.username)
						document.querySelector("#contestant1-avatar").src = e.target.result;
					if (h.contestant2 == h.username)
						document.querySelector("#contestant2-avatar").src = e.target.result;
				};
				reader.readAsDataURL(this.files[0]);
				document.querySelector("#avatar-name").value = this.files[0].name;
			};
		}

		document.querySelector("#contestant1-victory").addEventListener("click", function(e)
		{
			e.preventDefault();
			result(1);
		});

		document.querySelector("#contestant2-victory").addEventListener("click", function(e)
		{
			e.preventDefault();
			result(2);
		});

		document.querySelector("#english").addEventListener("change", function(e)
		{
			e.preventDefault();
			switchLanguage("en");
			h.language = "english";
			document.querySelector("#about-button").title = "About";
			document.querySelector("#about-close").innerHTML = "Close";
			document.querySelector("#about-label").innerHTML = "About";
			document.querySelector("#about-tab").innerHTML = "About";
			document.querySelector("#about-tab-pane").innerHTML = `
			<div class="d-flex">
				<img class="inline-img" src="/static/img/openart-image_yBIl3nIg_1717776713014_raw.jpg" %}'>
			</div>
			<br>
			On February 30th 2024, something happened that would forever change the course of history. Tired of being treated as little more than food, the avocados waged war against the animal kingdom as a whole.
			<br>
			<br>
			At first, the war went well for the avocados and they made short work of the weak human forces. With the humans out of the picture, the avocados thought they had won the war.
			<br>
			<br>
			They were wrong.
			<br>
			<br>
			They were not prepared for the onslaught from the pangolins. The pangolins were ruthless. The avocados found themselves evenly matched.
			<br>
			<br>
			This website exists to serve as an accurate retelling of the Great Avocado War of '24. As for who won the war? You will have to play to find out.`;
			document.querySelector("#about-title").innerHTML = "The Great Avocado War of '24";
			document.querySelector("#authors-tab").innerHTML = "Authors";
			document.querySelector("#authors-tab-pane").innerHTML = `
			<b>
				Bruno Pierre Bouchard
			</b>
			<br>
			<i>
				Database
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit contributor's homepage&#013;https://github.com/Nyonyx" type="button">
				<a href="https://github.com/Nyonyx" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Félix Barrette
			</b>
			<br>
			<i>
				Backend
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit contributor's homepage&#013;https://github.com/ShroomySquid" type="button">
				<a href="https://github.com/ShroomySquid" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				George Zhukov
			</b>
			<br>
			<i>
				Game
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit contributor's homepage&#013;https://github.com/joeroeg" type="button">
				<a href="https://github.com/joeroeg" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Léopold Couturier-Otis
			</b>
			<br>
			<i>
				Interface
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit contributor's homepage&#013;https://github.com/lcouturi" type="button">
				<a href="https://github.com/lcouturi" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Pierre Olivier Paquet
			</b>
			<br>
			<i>
				MIA
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit contributor's homepage&#013;https://github.com/pierreolivierpaquet" type="button">
				<a href="https://github.com/pierreolivierpaquet" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>`;
			document.querySelector("#avatar-button").title = "Open file dialog";
			document.querySelector("#components-tab").innerHTML = "Components";
			document.querySelector("#components-tab-pane").innerHTML = `
			<b>
				Bootstrap
			</b>
			<br>
			<i>
				Version 5.3.3
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit component's homepage&#013;https://getbootstrap.com" type="button">
				<a href="https://getbootstrap.com" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Django
			</b>
			<br>
			<i>
				Version 5.0.6
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit component's homepage&#013;https://www.djangoproject.com" type="button">
				<a href="https://www.djangoproject.com" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				PostgreSQL
			</b>
			<br>
			<i>
				Version 16.3
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit component's homepage&#013;https://www.postgresql.org" type="button">
				<a href="https://www.postgresql.org" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Three.js
			</b>
			<br>
			<i>
				Version r165
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visit component's homepage&#013;https://threejs.org" type="button">
				<a href="https://threejs.org" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>`;
			document.querySelector("#language-button").title = "Language";
			document.querySelector("#language-label").innerHTML = "Language";
			document.querySelector("#login-close-label").innerHTML = "Cancel";
			document.querySelector("#login-name-label").innerHTML = "Username:";
			document.querySelector("#login-pass-label").innerHTML = "Password:";
			document.querySelector("#login-title").innerHTML = "Log in";
			document.querySelector("#pause-label").innerHTML = "Pause";
			document.querySelector("#play").title = "Play";
			document.querySelector("#play-label").innerHTML = "Play";
			/*{% if user.is_authenticated %}*/
				document.querySelector("#profile-delete-label").innerHTML = "Delete Account";
				document.querySelector("#profile-friends").innerHTML = "Manage Friends";
				document.querySelector("#profile-friends-count").innerHTML = "Friends: " + h.friends_array.length;
				document.querySelector("#profile-friends-name").innerHTML = "Friends";
				document.querySelector("#profile-history").innerHTML = "Match History";
				document.querySelector("#profile-history-name").innerHTML = "Match History";
				document.querySelector("#profile-history-opponent").innerHTML = "Opponent";
				document.querySelector("#profile-history-result").innerHTML = "Result";
				document.querySelector("#profile-history-score").innerHTML = "Score";
				document.querySelector("#profile-history-time").innerHTML = "Time";
				document.querySelector("#profile-history-type").innerHTML = "Type";
				document.querySelector("#profile-list-item").placeholder = "Enter username";
				document.querySelector("#profile-logout-label").innerHTML = "Log out";
				document.querySelector("#profile-losses").innerHTML = h.losses + " Losses";
				document.querySelector("#profile-wins").innerHTML = h.wins + " Wins";
			/*{% else %}*/
				document.querySelector("#login-button").title = "Log in";
				document.querySelector("#login-label").innerHTML = "Log in";
			/*{% endif %}*/
			document.querySelector("#register-button-label").innerHTML = "Register";
			document.querySelector("#register-close").innerHTML = "Cancel";
			document.querySelector("#register-name-label").innerHTML = "Username:";
			document.querySelector("#register-pass-label").innerHTML = "Password:";
			document.querySelector("#register-pass2-label").innerHTML = "Confirm Password:";
			document.querySelector("#register-title").innerHTML = "Register";
			document.querySelector("#results-title").innerHTML = "Results";
			document.querySelector("#tournament-button").title = "Tournament";
			document.querySelector("#tournament-close").innerHTML = "Close";
			document.querySelector("#tournament-label").innerHTML = "Tournament";
			document.querySelector("#tournament-list-item").placeholder = "Enter username";
			document.querySelector("#tournament-start-label").innerHTML = "Tournament Start";
			document.querySelector("#tournament-start-match-label").innerHTML = "Next Match";
			document.querySelector("#tournament-title").innerHTML = "Tournament";
			document.title = "The Great Avocado War of '24";
			if (h.contestant1 == "Invité" || h.contestant1 == "Гість")
				h.contestant1 = "Guest";
			if (h.contestant2 == "Invité" || h.contestant2 == "Гість")
				h.contestant2 = "Guest";
			document.querySelector("#contestant1").innerHTML = h.contestant1;
			document.querySelector("#contestant2").innerHTML = h.contestant2;
			if (g.isSinglePlayer == false)
			{
				document.querySelector("#contestant1").innerHTML += " Team";
				document.querySelector("#contestant2").innerHTML += " Team";
			}
		});

		document.querySelector("#french").addEventListener("change", function(e)
		{
			e.preventDefault();
			switchLanguage("fr");
			h.language = "french";
			document.querySelector("#about-button").title = "À propos";
			document.querySelector("#about-close").innerHTML = "Fermer";
			document.querySelector("#about-label").innerHTML = "À propos";
			document.querySelector("#about-tab").innerHTML = "À propos";
			document.querySelector("#about-tab-pane").innerHTML = `
			<div class="d-flex">
				<img class="inline-img" src="/static/img/openart-image_yBIl3nIg_1717776713014_raw.jpg" %}'>
			</div>
			<br>
			Le 30 février 2024, quelque chose c’est produit qui a de façon permanente changé le cours de l’histoire. Épuisés d’être traités comme rien de plus que de la nourriture, les avocats ont déclaré la guerre contre l’entièreté du royaume des animaux.
			<br>
			<br>
			Au début, la guerre se déroulait bien pour les avocats et ils ont pu rapidement éliminer les faibles forces humaines. Avec les humains hors combat, les avocats crurent qu’ils avaient gagné la guerre.
			<br>
			<br>
			Ils avaient tort.
			<br>
			<br>
			Ils n’étaient pas préparés pour l’assaut des pangolins. Ils étaient sans pitié. Les avocats se reprouvèrent sur un pied d’égalité avec les pangolins.
			<br>
			<br>
			Ce site internet existe pour chroniquer de façon précise les évènements de la Grande guerre des avocats de 2024. Et pour ce qui est du vainqueur? Il vous faudra jouer pour le découvrir.`;
			document.querySelector("#about-title").innerHTML = "La grande guerre des avocats de 2024";
			document.querySelector("#authors-tab").innerHTML = "Auteurs";
			document.querySelector("#authors-tab-pane").innerHTML = `
			<b>
				Bruno Pierre Bouchard
			</b>
			<br>
			<i>
				Base de données
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visiter la page d'accueil du contributeur&#013;https://github.com/Nyonyx" type="button">
				<a href="https://github.com/Nyonyx" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Félix Barrette
			</b>
			<br>
			<i>
				Backend
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visiter la page d'accueil du contributeur&#013;https://github.com/ShroomySquid" type="button">
				<a href="https://github.com/ShroomySquid" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				George Zhukov
			</b>
			<br>
			<i>
				Jeu
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visiter la page d'accueil du contributeur&#013;https://github.com/joeroeg" type="button">
				<a href="https://github.com/joeroeg" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Léopold Couturier-Otis
			</b>
			<br>
			<i>
				Interface
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visiter la page d'accueil du contributeur&#013;https://github.com/lcouturi" type="button">
				<a href="https://github.com/lcouturi" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Pierre Olivier Paquet
			</b>
			<br>
			<i>
				MIA
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visiter la page d'accueil du contributeur&#013;https://github.com/pierreolivierpaquet" type="button">
				<a href="https://github.com/pierreolivierpaquet" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>`;
			document.querySelector("#avatar-button").title = "Ouvrir le sélecteur de fichiers";
			document.querySelector("#components-tab").innerHTML = "Composants";
			document.querySelector("#components-tab-pane").innerHTML = `
			<b>
				Bootstrap
			</b>
			<br>
			<i>
				Version 5.3.3
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visiter la page d'accueil du composant&#013;https://getbootstrap.com" type="button">
				<a href="https://getbootstrap.com" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Django
			</b>
			<br>
			<i>
				Version 5.0.6
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visiter la page d'accueil du composant&#013;https://www.djangoproject.com" type="button">
				<a href="https://www.djangoproject.com" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				PostgreSQL
			</b>
			<br>
			<i>
				Version 16.3
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visiter la page d'accueil du composant&#013;https://www.postgresql.org" type="button">
				<a href="https://www.postgresql.org" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Three.js
			</b>
			<br>
			<i>
				Version r165
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Visiter la page d'accueil du composant&#013;https://threejs.org" type="button">
				<a href="https://threejs.org" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>`;
			document.querySelector("#language-button").title = "Langue";
			document.querySelector("#language-label").innerHTML = "Langue";
			document.querySelector("#login-close-label").innerHTML = "Annuler";
			document.querySelector("#login-name-label").innerHTML = "Nom d’utilisateur:";
			document.querySelector("#login-pass-label").innerHTML = "Mot de passe:";
			document.querySelector("#login-title").innerHTML = "Connexion";
			document.querySelector("#pause-label").innerHTML = "Pause";
			document.querySelector("#play").title = "Jouer";
			document.querySelector("#play-label").innerHTML = "Jouer";
			/*{% if user.is_authenticated %}*/
				document.querySelector("#profile-delete-label").innerHTML = "Supprimer le compte";
				document.querySelector("#profile-friends").innerHTML = "Gérer les amis";
				document.querySelector("#profile-friends-count").innerHTML = "Amis: " + h.friends_array.length;
				document.querySelector("#profile-friends-name").innerHTML = "Amis";
				document.querySelector("#profile-history").innerHTML = "Historique des matchs";
				document.querySelector("#profile-history-name").innerHTML = "Historique des matchs";
				document.querySelector("#profile-history-opponent").innerHTML = "Adversaire";
				document.querySelector("#profile-history-result").innerHTML = "Résultat";
				document.querySelector("#profile-history-score").innerHTML = "Score";
				document.querySelector("#profile-history-time").innerHTML = "Temps";
				document.querySelector("#profile-history-type").innerHTML = "Type";
				document.querySelector("#profile-list-item").placeholder = "Entrez le nom d’utilisateur";
				document.querySelector("#profile-logout-label").innerHTML = "Déconnexion";
				document.querySelector("#profile-losses").innerHTML = h.losses + " défaites";
				document.querySelector("#profile-wins").innerHTML = h.wins + " victoires";
			/*{% else %}*/
				document.querySelector("#login-button").title = "Connexion";
				document.querySelector("#login-label").innerHTML = "Connexion";
			/*{% endif %}*/
			document.querySelector("#register-button-label").innerHTML = "Inscription";
			document.querySelector("#register-close").innerHTML = "Annuler";
			document.querySelector("#register-name-label").innerHTML = "Nom d’utilisateur:";
			document.querySelector("#register-pass-label").innerHTML = "Mot de passe:";
			document.querySelector("#register-pass2-label").innerHTML = "Confirmez le mot de passe:";
			document.querySelector("#register-title").innerHTML = "Inscription";
			document.querySelector("#results-title").innerHTML = "Résultats";
			document.querySelector("#tournament-button").title = "Tournoi";
			document.querySelector("#tournament-close").innerHTML = "Fermer";
			document.querySelector("#tournament-label").innerHTML = "Tournoi";
			document.querySelector("#tournament-list-item").placeholder = "Entrez le nom d’utilisateur";
			document.querySelector("#tournament-start-label").innerHTML = "Commencer le tournoi";
			document.querySelector("#tournament-start-match-label").innerHTML = "Match suivant";
			document.querySelector("#tournament-title").innerHTML = "Tournoi";
			document.title = "La grande guerre des avocats de 2024";
			if (h.contestant1 == "Guest" || h.contestant1 == "Гість")
				contestant1 = "Invité";
			if (h.contestant2 == "Guest" || h.contestant2 == "Гість")
				h.contestant2 = "Invité";
			document.querySelector("#contestant1").innerHTML = h.contestant1;
			document.querySelector("#contestant2").innerHTML = h.contestant2;
			if (g.isSinglePlayer == false)
			{
				document.querySelector("#contestant1").innerHTML = "Équipe " + h.contestant1;
				document.querySelector("#contestant2").innerHTML = "Équipe " + h.contestant2;
			}
		});

		/*{% if user.is_authenticated %}*/
			document.querySelector("#imageFile").onchange = function ()
			{
				document.querySelector("#profile-avatar-form").submit();
			};

			document.querySelector("#profile-banner-close").addEventListener("click", function(e)
			{
				e.preventDefault();
				banner_close('#profile-banner');
			});

			document.querySelector("#profile-delete").addEventListener("click", function(e)
			{
				e.preventDefault();
				profile_logout();
			});

			document.querySelector("#profile-list-add").addEventListener("click", function(e)
			{
				e.preventDefault();
				add_item("profile", null);
				if (h.language == "english")
					document.querySelector("#profile-friends-count").innerHTML = "Friends: " + h.friends_array.length;
				else if (h.language == "french")
					document.querySelector("#profile-friends-count").innerHTML = "Amis: " + h.friends_array.length;
				else if (h.language == "ukrainian")
					document.querySelector("#profile-friends-count").innerHTML = "Друзі: " + h.friends_array.length;
			});

			document.querySelector("#profile-name-edit").addEventListener("click", function(e)
			{
				e.preventDefault();
				document.querySelector("#profile-name-container").classList.remove("position-relative");
				document.querySelector("#profile-name-inside").classList.add("d-none");
				document.querySelector("#profile-name-input").value = h.username;
				document.querySelector("#profile-name-input-container").classList.remove("d-none");
			});

			document.querySelector("#profile-name-input-button").addEventListener("click", function(e)
			{
				e.preventDefault();
				if (document.querySelector("#profile-name-input").value == "")
					return ;
				document.querySelector("#profile-name-inside").innerHTML = document.querySelector("#profile-name-input").value;
				if (h.contestant1 == h.username)
				{
					h.contestant1 = document.querySelector("#profile-name-input").value;
					document.querySelector("#contestant1").innerHTML = h.contestant1;
				}
				if (h.contestant2 == h.username)
				{
					h.contestant2 = document.querySelector("#profile-name-input").value;
					document.querySelector("#contestant2").innerHTML = h.contestant2;
				}
				h.username = document.querySelector("#profile-name-input").value;
				document.querySelector("#profile-name-container").classList.add("position-relative");
				document.querySelector("#profile-name-inside").classList.remove("d-none");
				document.querySelector("#profile-name-input-container").classList.add("d-none");
			});
		/*{% endif %}*/

		document.querySelector("#ukrainian").addEventListener("change", function(e)
		{
			e.preventDefault();
			switchLanguage("uk");
			h.language = "ukrainian";
			document.querySelector("#about-button").title = "Про";
			document.querySelector("#about-close").innerHTML = "Закрити";
			document.querySelector("#about-label").innerHTML = "Про";
			document.querySelector("#about-tab").innerHTML = "Про";
			document.querySelector("#about-tab-pane").innerHTML = `
			<div class="d-flex">
				<img class="inline-img" src="/static/img/openart-image_yBIl3nIg_1717776713014_raw.jpg" %}'>
			</div>
			<br>
			30 лютого 2024 року сталося те, що назавжди змінило хід історії. Втомившись від того, що до них ставляться лише як до їжі, авокадо почали війну проти тваринного світу в цілому.
			<br>
			<br>
			Спочатку війна йшла добре для авокадо, і вони обходили слабкі людські сили. Коли людей не було, авокадо думали, що виграли війну.
			<br>
			<br>
			Вони помилилися.
			<br>
			<br>
			Вони не були готові до натиску панголінів. Панголіни були безжальними. Авокадо виявилися рівномірними.
			<br>
			<br>
			Цей веб-сайт існує, щоб служити точним переказом Великої війни за авокадо 24 року. А хто виграв війну? Вам доведеться пограти, щоб дізнатися.`;
			document.querySelector("#about-title").innerHTML = "Велика авокадо війна 24 року";
			document.querySelector("#authors-tab").innerHTML = "Автори";
			document.querySelector("#authors-tab-pane").innerHTML = `
			<b>
				Bruno Pierre Bouchard
			</b>
			<br>
			<i>
				База даних
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Відвідайте домашню сторінку розробника&#013;https://github.com/Nyonyx" type="button">
				<a href="https://github.com/Nyonyx" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Félix Barrette
			</b>
			<br>
			<i>
				Бекенд
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Відвідайте домашню сторінку розробника&#013;https://github.com/ShroomySquid" type="button">
				<a href="https://github.com/ShroomySquid" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				George Zhukov
			</b>
			<br>
			<i>
				Гра
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Відвідайте домашню сторінку розробника&#013;https://github.com/joeroeg" type="button">
				<a href="https://github.com/joeroeg" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Léopold Couturier-Otis
			</b>
			<br>
			<i>
				Інтерфейс
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Відвідайте домашню сторінку розробника&#013;https://github.com/lcouturi" type="button">
				<a href="https://github.com/lcouturi" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Pierre Olivier Paquet
			</b>
			<br>
			<i>
				MIA
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Відвідайте домашню сторінку розробника&#013;https://github.com/pierreolivierpaquet" type="button">
				<a href="https://github.com/pierreolivierpaquet" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>`;
			document.querySelector("#avatar-button").title = "Діалогове вікно відкриття файлів";
			document.querySelector("#components-tab").innerHTML = "Компоненти";
			document.querySelector("#components-tab-pane").innerHTML = `
			<b>
				Bootstrap
			</b>
			<br>
			<i>
				Версія 5.3.3
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Відвідайте домашню сторінку компонента&#013;https://getbootstrap.com" type="button">
				<a href="https://getbootstrap.com" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Django
			</b>
			<br>
			<i>
				Версія 5.0.6
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Відвідайте домашню сторінку компонента&#013;https://www.djangoproject.com" type="button">
				<a href="https://www.djangoproject.com" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				PostgreSQL
			</b>
			<br>
			<i>
				Версія 16.3
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Відвідайте домашню сторінку компонента&#013;https://www.postgresql.org" type="button">
				<a href="https://www.postgresql.org" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>
			<b>
				Three.js
			</b>
			<br>
			<i>
				Версія r165
			</i>
			<br>
			<button class="border borderless-button d-flex m-1 p-0 rounded" title="Відвідайте домашню сторінку компонента&#013;https://threejs.org" type="button">
				<a href="https://threejs.org" target="_blank">
					<img class="m-1" height="22" src="/static/img/22/globe.svg">
				</a>
			</button>`;
			document.querySelector("#language-button").title = "Мова";
			document.querySelector("#language-label").innerHTML = "Мова";
			document.querySelector("#login-close-label").innerHTML = "Скасувати";
			document.querySelector("#login-name-label").innerHTML = "Ім'я користувача:";
			document.querySelector("#login-pass-label").innerHTML = "Пароль:";
			document.querySelector("#login-title").innerHTML = "Авторизуватися";
			document.querySelector("#pause-label").innerHTML = "Пауза";
			document.querySelector("#play").title = "Грати";
			document.querySelector("#play-label").innerHTML = "Грати";
			/*{% if user.is_authenticated %}*/
				document.querySelector("#profile-delete-label").innerHTML = "Видалити аккаунт";
				document.querySelector("#profile-friends").innerHTML = "Керуйте друзями";
				document.querySelector("#profile-friends-count").innerHTML = "Друзі: " + h.friends_array.length;
				document.querySelector("#profile-friends-name").innerHTML = "Друзі";
				document.querySelector("#profile-history").innerHTML = "Історія матчів";
				document.querySelector("#profile-history-name").innerHTML = "Історія матчів";
				document.querySelector("#profile-history-opponent").innerHTML = "Суперник";
				document.querySelector("#profile-history-result").innerHTML = "Результат";
				document.querySelector("#profile-history-score").innerHTML = "Оцінка";
				document.querySelector("#profile-history-time").innerHTML = "Час";
				document.querySelector("#profile-history-type").innerHTML = "Тип";
				document.querySelector("#profile-list-item").placeholder = "Введіть ім'я користувача";
				document.querySelector("#profile-logout-label").innerHTML = "Вийти";
				document.querySelector("#profile-losses").innerHTML = h.losses + " втрати";
				document.querySelector("#profile-wins").innerHTML = h.wins + " виграє";
			/*{% else %}*/
				document.querySelector("#login-button").title = "Авторизуватися";
				document.querySelector("#login-label").innerHTML = "Авторизуватися";
			/*{% endif %}*/
			document.querySelector("#register-button-label").innerHTML = "Зареєструватися";
			document.querySelector("#register-close").innerHTML = "Скасувати";
			document.querySelector("#register-name-label").innerHTML = "Ім'я користувача:";
			document.querySelector("#register-pass-label").innerHTML = "Пароль:";
			document.querySelector("#register-pass2-label").innerHTML = "Підтвердьте пароль:";
			document.querySelector("#register-title").innerHTML = "Зареєструватися";
			document.querySelector("#results-title").innerHTML = "Результати";
			document.querySelector("#tournament-button").title = "Турнір";
			document.querySelector("#tournament-close").innerHTML = "Закрити";
			document.querySelector("#tournament-label").innerHTML = "Турнір";
			document.querySelector("#tournament-list-item").placeholder = "Введіть ім'я користувача";
			document.querySelector("#tournament-start-label").innerHTML = "Початок турніру";
			document.querySelector("#tournament-start-match-label").innerHTML = "Наступний матч";
			document.querySelector("#tournament-title").innerHTML = "Турнір";
			document.title = "Велика авокадо війна 24 року";
			if (h.contestant1 == "Invité" || h.contestant1 == "Guest")
				h.contestant1 = "Гість";
			if (h.contestant2 == "Invité" || h.contestant2 == "Guest")
				h.contestant2 = "Гість";
			document.querySelector("#contestant1").innerHTML = h.contestant1;
			document.querySelector("#contestant2").innerHTML = h.contestant2;
			if (g.isSinglePlayer == false)
			{
				document.querySelector("#contestant1").innerHTML = "Командний " + h.contestant1;
				document.querySelector("#contestant2").innerHTML = "Командний " + h.contestant2;
			}
		});

		document.querySelector("#login").addEventListener("hidden.bs.modal", function(e)
		{
			e.preventDefault();
			unpause();
		});

		document.querySelector("#login").addEventListener("shown.bs.modal", function(e)
		{
			e.preventDefault();
			pause();
		});

		document.querySelector("#login-banner-close").addEventListener("click", function(e)
		{
			e.preventDefault();
			banner_close('#login-banner');
		});
		{% comment %} 
		document.querySelector("#login-ok").addEventListener("click", function(e)
		{
			e.preventDefault();
			login_validate();
		}); 
		{% endcomment %}

		document.querySelector("#pause").addEventListener("click", function(e)
		{
			e.preventDefault();
			h.paused = true;
			pause();
			this.classList.remove("d-flex");
			this.classList.add("d-none");
			document.querySelector("#play").classList.remove("d-none");
			document.querySelector("#play").classList.add("d-flex");
		});

		document.querySelector("#play").addEventListener("click", function(e)
		{
			e.preventDefault();
			h.paused = false;
			unpause();
			this.classList.remove("d-flex");
			this.classList.add("d-none");
			document.querySelector("#pause").classList.remove("d-none");
			document.querySelector("#pause").classList.add("d-flex");
		});

		document.querySelector("#register").addEventListener("hidden.bs.modal", function(e)
		{
			e.preventDefault();
			unpause();
		});

		document.querySelector("#register").addEventListener("shown.bs.modal", function(e)
		{
			e.preventDefault();
			pause();
		});

		if (document.querySelector("#register-banner-close"))
		{
			document.querySelector("#register-banner-close").addEventListener("click", function(e)
			{
				e.preventDefault();
				banner_close('#register-banner');
			});
		}

		document.querySelector("#register-button").addEventListener("click", function(e)
		{
			e.preventDefault();
			register_open();
		});

		if (document.querySelector("#register-ok"))
		{
			document.querySelector("#register-ok").addEventListener("click", function(e)
			{
				e.preventDefault();
				register_validate();
			});
		}

		document.querySelector("#results").addEventListener("hidden.bs.modal", function(e)
		{
			e.preventDefault();
			unpause();
		});

		document.querySelector("#results").addEventListener("shown.bs.modal", function(e)
		{
			e.preventDefault();
			pause();
		});

		document.querySelector("#tournament").addEventListener("hidden.bs.modal", function(e)
		{
			e.preventDefault();
			unpause();
		});

		document.querySelector("#tournament").addEventListener("shown.bs.modal", function(e)
		{
			e.preventDefault();
			pause();
		});

		document.querySelector("#tournament-banner-close").addEventListener("click", function(e)
		{
			e.preventDefault();
			banner_close('#tournament-banner');
		});

		document.querySelector("#tournament-button").addEventListener("click", function(e)
		{
			e.preventDefault();
			tournament_open();
		});

		document.querySelector("#tournament-list-add").addEventListener("click", function(e)
		{
			e.preventDefault();
			add_item("tournament", null);
		});

		document.querySelector("#tournament-start").addEventListener("click", function(e)
		{
			e.preventDefault();
			tournament_start();
		});

		document.querySelector("#tournament-start-match").addEventListener("click", function(e)
		{
			e.preventDefault();
			start_match();
		});
	</script>
	<script src='{% static "frontend/game/main.js" %}' type="module">
	</script>
</html>
